<UserControl x:Class="Bakery.WpfApplication.Shop.CheckOut"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Bakery.WpfApplication.Shop"
        mc:Ignorable="d"
        d:DesignHeight="450" d:DesignWidth="800"
        Loaded="UserControl_Loaded">
    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="50" />
            <RowDefinition Height="50"/>
        </Grid.RowDefinitions>
        <!-- User DataGrid -->
        <DataGrid x:Name="dgData"
     Grid.Row="0"
     AutoGenerateColumns="False"
     Margin="0 10 0 0"
     IsReadOnly="True"
     CanUserAddRows="False"
     SelectionChanged="dgData_SelectionChanged">
            <DataGrid.Columns>
                <DataGridTextColumn Header="Pastry Name"  Binding="{Binding Product.ProductName}" Width="150" />
                <DataGridTemplateColumn Header="Image" Width="160" >
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <Image Width="50" Height="50" Stretch="Uniform" Source="{Binding Product.ImageUrl}"/>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
                <DataGridTextColumn Header="Category" Binding="{Binding Product.Category.CategoryName}" Width="100"/>
                <DataGridTextColumn Header="Quantity" Binding="{Binding Quantity}" Width="100"/>
                <DataGridTextColumn x:Name="colPrice" Header="Price" Binding="{Binding UnitPrice, StringFormat='{}{0:C}', ConverterCulture='vi-VN'}" Width="*"/>
            </DataGrid.Columns>
        </DataGrid>

        <!-- Form for adding or editing users -->
        <StackPanel Grid.Row="1" Orientation="Horizontal"
         Height="38"
         VerticalAlignment="Top">
            <Label Content="Quantity:" VerticalAlignment="Center" Margin="400,0,5,0"/>
            <TextBox x:Name="txtQuantity"
              Width="80"
              Margin="5"
              VerticalAlignment="Center"/>
            <Button x:Name="btnUpdateQuantity"
                    Content="Update"
                    Width="80"
                    Margin="5"
                    Click="btnUpdateQuantity_Click"
                    VerticalAlignment="Center">
                <Button.Background>
                    <SolidColorBrush Color="#0099FF" />
                </Button.Background>
            </Button>
            <Label Content="Total:" VerticalAlignment="Center" Margin="20,0,5,0"/>
            <TextBox x:Name="txtTotalPrice"
                     IsReadOnly="True"
                     Width="150"
                     Margin="5"
                     VerticalAlignment="Center"/>
        </StackPanel>

        <StackPanel Grid.Row="2"
     Orientation="Horizontal">
            <Button Content="Checkout"
         Width="100"
         Margin="5"
         Padding="5"
         x:Name="btnCheckout" Click="btnCheckout_Click"
         >
                <Button.Background>
                    <SolidColorBrush Color="#0099FF" />
                </Button.Background>
                <Button.Triggers>
                    <EventTrigger RoutedEvent="MouseEnter">
                        <BeginStoryboard>
                            <Storyboard>
                                <ColorAnimation Storyboard.TargetProperty="(Button.Background).(SolidColorBrush.Color)"
         To="#28AEED" Duration="0:0:0.2"/>
                            </Storyboard>
                        </BeginStoryboard>
                    </EventTrigger>
                    <EventTrigger RoutedEvent="MouseLeave">
                        <BeginStoryboard>
                            <Storyboard>
                                <ColorAnimation Storyboard.TargetProperty="(Button.Background).(SolidColorBrush.Color)"
         To="#0099FF" Duration="0:0:0.2"/>
                            </Storyboard>
                        </BeginStoryboard>
                    </EventTrigger>
                </Button.Triggers>
            </Button>
            <Button Content="Remove"
             Width="100"
             Margin="5"
             x:Name="btnRemoveProduct" Click="btnRemoveProduct_Click"
     >
                <Button.Background>
                    <SolidColorBrush Color="#FFA2AA3D" />
                </Button.Background>
                <Button.Triggers>
                    <EventTrigger RoutedEvent="MouseEnter">
                        <BeginStoryboard>
                            <Storyboard>
                                <ColorAnimation Storyboard.TargetProperty="(Button.Background).(SolidColorBrush.Color)"
                                         To="#28AEED" Duration="0:0:0.2"/>
                            </Storyboard>
                        </BeginStoryboard>
                    </EventTrigger>
                    <EventTrigger RoutedEvent="MouseLeave">
                        <BeginStoryboard>
                            <Storyboard>
                                <ColorAnimation Storyboard.TargetProperty="(Button.Background).(SolidColorBrush.Color)"
                                         To="#0099FF" Duration="0:0:0.2"/>
                            </Storyboard>
                        </BeginStoryboard>
                    </EventTrigger>
                </Button.Triggers>
            </Button>

        </StackPanel>
    </Grid>
</UserControl>
